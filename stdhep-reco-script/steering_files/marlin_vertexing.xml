<marlin>

<execute>
	<processor name="VertexFinder"/>
	<processor name="MyLCIOOutputProcessor"/>
</execute>

<global>
	<parameter name="LCIOInputFiles"> ADD NAME OF INPUT FILE HERE </parameter>
	<parameter name="GearXMLFile"> /afs/cern.ch/user/o/oreardon/public/ilc/data/gearFiles/sid02.gear.xml </parameter>  
	<parameter name="MaxRecordNumber" value="-1" />  
	<parameter name="SkipNEvents" value="0" />  
	<parameter name="SupressCheck" value="false" />  
	<parameter name="Verbosity" options="DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT">WARNING</parameter> 
</global>

<processor name="VertexFinder" type="LcfiplusProcessor">

	<!-- run primary and secondary vertex finders -->
	<parameter name="Algorithms" type="stringVec"> PrimaryVertexFinder BuildUpVertex </parameter>
	<parameter name="ReadSubdetectorEnergies" type="int" value="0"/> <!-- true for ILD -->
	<parameter name="UpdateVertexRPDaughters" type="int" value="0"/> <!-- false for non-updative PandoraPFOs -->
	<parameter name="PrintEventNumber" type="int" value="10"/> <!-- 0 for not printing event number, n for printing every n events -->

	<!-- specify input collection names -->
	<parameter name="PFOCollection" type="string" value="PandoraPFOCollection" />
	<parameter name="PrimaryVertexCollectionName" type="string" value="PrimaryVertex" />
	<parameter name="BuildUpVertexCollectionName" type="string" value="BuildUpVertex" />
	<parameter name="BuildUpVertex.V0VertexCollectionName" type="string" value="BuildUpVertex_V0" />
	<parameter name="MagneticField" type="float" value="5"/>
        
	<parameter name="BeamSizeX" type="float" value="335E-6"/>
        <parameter name="BeamSizeY" type="float" value="2.7E-6"/>
        <parameter name="BeamSizeZ" type="float" value="0.225"/>

	<!-- parameters for primary vertex finder -->
	<parameter name="PrimaryVertexFinder.TrackMaxD0" type="double" value="20." />
	<parameter name="PrimaryVertexFinder.TrackMaxZ0" type="double" value="20." />
	<parameter name="PrimaryVertexFinder.TrackMaxInnermostHitRadius" type="double" value="20." />
	<parameter name="PrimaryVertexFinder.TrackMinVtxFtdHits" type="int" value="3" />
	<parameter name="PrimaryVertexFinder.Chi2Threshold" type="double" value="25." />
        <parameter name="PrimaryVertexFinder.UseBeamConstraint" type="int" value="1" />

	<!-- parameters for secondary vertex finder -->
	<parameter name="BuildUpVertex.TrackMaxD0" type="double" value="10." />
	<parameter name="BuildUpVertex.TrackMaxZ0" type="double" value="20." />
	<parameter name="BuildUpVertex.TrackMinPt" type="double" value="0.1" />
	<parameter name="BuildUpVertex.TrackMaxD0Err" type="double" value="0.1" />
	<parameter name="BuildUpVertex.TrackMaxZ0Err" type="double" value="0.1" />
	<parameter name="BuildUpVertex.TrackMinTpcHits" type="int" value="4" />
	<parameter name="BuildUpVertex.TrackMinFtdHits" type="int" value="3" />
	<parameter name="BuildUpVertex.TrackMinVxdHits" type="int" value="3" />
	<parameter name="BuildUpVertex.TrackMinVxdFtdHits" type="int" value="0" />
	<parameter name="BuildUpVertex.PrimaryChi2Threshold" type="double" value="25." />
	<parameter name="BuildUpVertex.SecondaryChi2Threshold" type="double" value="9." />
	<parameter name="BuildUpVertex.MassThreshold" type="double" value="10." />
	<parameter name="BuildUpVertex.MinDistFromIP" type="double" value="0.3" />
	<parameter name="BuildUpVertex.MaxChi2ForDistOrder" type="double" value="1.0" />
	<parameter name="BuildUpVertex.AssocIPTracks" type="int" value="1" />
	<parameter name="BuildUpVertex.AssocIPTracksMinDist" type="double" value="0." />
	<parameter name="BuildUpVertex.AssocIPTracksChi2RatioSecToPri" type="double" value="2.0" />
	<parameter name="BuildUpVertex.UseV0Selection" type="int" value="1" />

</processor>

<processor name="MyLCIOOutputProcessor" type="LCIOOutputProcessor">
	<parameter name="LCIOOutputFile" type="string"> ADD NAME OF OUTPUT FILE HERE </parameter>
	<parameter name="LCIOWriteMode" type="string" value="WRITE_NEW"/>
</processor>

</marlin>
